
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../activities/">
      
      
        <link rel="next" href="../product-dates/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Products - BC Parks Reservation System Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#product" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="BC Parks Reservation System Documentation" class="md-header__button md-logo" aria-label="BC Parks Reservation System Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BC Parks Reservation System Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Products
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../data-model/introduction/" class="md-tabs__link">
          
  
  
    
  
  Data Model

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/qr-code/" class="md-tabs__link">
          
  
  
    
  
  Features

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BC Parks Reservation System Documentation" class="md-nav__button md-logo" aria-label="BC Parks Reservation System Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    BC Parks Reservation System Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Model
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Model
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-model/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Model Overview
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Model Overview
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-model/data-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-model/primitive-property-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Property Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Contexts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contexts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contexts/data-categorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Categorization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contexts/data-contexts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Contexts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contexts/admin-user-journey-phases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Admin User Journey Phases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contexts/public-user-journey-phases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Public User Journey Phases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Datatypes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Datatypes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../collections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../geozones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Geozones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../facilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Facilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../activities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Activities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Products
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Products
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#product-assertions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Product Assertions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#products-vs-activities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Products vs. Activities
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#products-as-booking-governance-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Products as Booking Governance Modules
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../product-dates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ProductDates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../availability-signals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AvailabilitySignals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Assets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inventory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inventory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bookings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bookings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../booking-dates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BookingDates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4_12" >
        
          
          <label class="md-nav__link" for="__nav_2_4_12" id="__nav_2_4_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Policies
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Policies
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policies/policies-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policies/policy-primitives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Policy Primitives
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policies/reservation-policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reservation Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policies/party-policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Party Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policies/fee-policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fee Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policies/change-policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Change Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Features
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Features
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/qr-code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    QR Codes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="product">Product<a class="headerlink" href="#product" title="Permanent link">&para;</a></h1>
<p>A product is a specific, governed instance of an activity - they are what BC Parks 'offers' to match a visitor's wants. Products are coupled closely with ProductDates, which resolve how the Product experience is offered on a specific calendar day. Products act as the <em>general definition</em> of an offering, while ProductDates act as the <em>time-specific execution</em> of that offering. Products provide the structure, identity, and administrative control needed to generate ProductDates, which in turn influence and manage availability, bookings, and day-specific operations.</p>
<p>For example, a Product might be "Backcountry Camping on the Bedwell Lakes Trail - 2026 Season", which defines the general offering and rules for that offering, while each ProductDate seeded from that Product would represent the execution of that offering on a specific date (e.g., "Backcountry Camping on the Bedwell Lakes Trail on May 1st, 2026").</p>
<h2 id="product-assertions">Product Assertions<a class="headerlink" href="#product-assertions" title="Permanent link">&para;</a></h2>
<ul>
<li>Each Product must have a unique combination of <code>collectionId</code>, <code>activityType</code>, <code>activityId</code>, and <code>productId</code> to ensure distinct offerings within the same activity context.</li>
<li>For each Product, at most one ProductDate will be created for each date in the Product's defined date range. ProductDates inherit many rules and policies from their parent Product, but also have the ability to override certain aspects to accommodate day-specific needs.</li>
<li>In cases where the rules of a Product must change on a more frequent cadence than daily, multiple Products should be created to represent these variations, each with their own date ranges and associated ProductDates. Example: AM and PM trail pass offerings for the same trail on the same day would be represented as two separate Products, each with their own ProductDates for that day.</li>
<li>On dates where no ProductDate exists for a Product, the Product is effectively inactive and cannot be booked on that date.</li>
</ul>
<h2 id="products-vs-activities">Products vs. Activities<a class="headerlink" href="#products-vs-activities" title="Permanent link">&para;</a></h2>
<p>Activities and Products may appear similar at first glance - they both describe something a visitor can do, but they serve fundamentally different roles in the system. Keeping them separate preserves clarity in the discovery experience, stability in the data model, and flexibility in how offerings evolve over time.</p>
<p><strong>Activities</strong> describe the place-anchored idea of an experience. They are discoverable at all times, so that site visitors can see the potential experiences that are associated with a specific place, essentially showing 'what the place is known for', even if it is not currently reservable.</p>
<p><strong>Products</strong> turn the idea of an Activity into one or more reservable offerings. They are not always discoverable - typically only when they are being offered - and come complete with the governing rules that enable the site visitor to actually obtain the experience described by the Activity.</p>
<p>If an Activity is the 'experience', the Product is the 'offering' visitors can obtain to get their desired experience.</p>
<h2 id="products-as-booking-governance-modules">Products as Booking Governance Modules<a class="headerlink" href="#products-as-booking-governance-modules" title="Permanent link">&para;</a></h2>
<p>Products encapsulate the key governance elements that define how an offering is made available to visitors. Governance elements (policies) that apply at the Product level of scope include:</p>
<ul>
<li>Discoverability rules (e.g., when the offering appears in search results)</li>
<li>Minimum/maximum total days for reservations of this Product</li>
<li>Which Assets are allocated to this Product and how they are allocated (e.g., fixed vs. flex)</li>
<li>Itinerary rules (e.g., entry/exit points, overnight stays)</li>
<li>Fee policies that define how fees are calculated at the Product level</li>
<li>Other high-level rules that apply to the offering as a whole, or that cannot vary on a per-day basis.</li>
</ul>
<p>The Product also defines the date range over which ProductDates will be created, and provides the template from which those ProductDates inherit their initial rules and policies.</p>
<h1 id="properties">Properties<a class="headerlink" href="#properties" title="Permanent link">&para;</a></h1>
<h2 id="product_1">Product<a class="headerlink" href="#product_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pk</code></td>
<td>String</td>
<td>Partition key</td>
<td>product::<code>collectionId</code>::<code>activityType</code>::<code>activityId</code></td>
<td>Searching for all Products related to a specific Activity.</td>
</tr>
<tr>
<td><code>sk</code></td>
<td>String</td>
<td>Sort key</td>
<td><code>productId</code></td>
<td>Searching for a specific Product related to a specific Activity</td>
</tr>
<tr>
<td><code>gsipk?</code></td>
<td>String</td>
<td>Global secondary index partition key</td>
<td>Reserved</td>
<td>Reserved</td>
</tr>
<tr>
<td><code>gsisk?</code></td>
<td>String</td>
<td>Global secondary index sort key</td>
<td>Reserved</td>
<td>Reserved</td>
</tr>
<tr>
<td><code>schema</code></td>
<td>String</td>
<td>Data type/Schema</td>
<td>"product"</td>
<td>Identifying that this item is a "product"</td>
</tr>
<tr>
<td><code>globalId</code></td>
<td>String</td>
<td>Globally unique UUID</td>
<td>Automatically generating on Product POST</td>
<td>Searching for this specific item using the <code>globalId</code> GSI</td>
</tr>
<tr>
<td><code>collectionId</code></td>
<td>String</td>
<td>The identifier of the collection this Product belongs to</td>
<td>Parent Activity's <code>collectionId</code></td>
<td>Determining which collection this Product belongs to</td>
</tr>
<tr>
<td><code>productId</code></td>
<td>Number</td>
<td>Uniquely identifies this Product from other Products with the same partition key</td>
<td>Automatically generating  on Product POST</td>
<td>Distinguishing this Product from other Products with the same partition key</td>
</tr>
<tr>
<td><code>identifier</code></td>
<td>Number</td>
<td>Uniquely identifies this item from other items with the same partition key (similar to <code>productId</code>)</td>
<td>Copying <code>productId</code></td>
<td>Distinguishing this item from other items with the same partition key</td>
</tr>
<tr>
<td><code>activityType</code></td>
<td>String</td>
<td>The type of activity this Product offers</td>
<td>Parent Activity's <code>activityType</code></td>
<td>Determining what type of Activity this product offers</td>
</tr>
<tr>
<td><code>activityId</code></td>
<td>Number</td>
<td>The unique identifier of the parent Activity</td>
<td>Parent Activity's <code>activityId</code></td>
<td>Determining which specific Activity of <code>activityType</code> within the <code>collectionId</code> that this Product refers to</td>
</tr>
<tr>
<td><code>activitySubType?</code></td>
<td>String</td>
<td>A further categorization of the type of Activity this Product offers, if available</td>
<td>Parent Activity's <code>activitySubType</code></td>
<td>Determining what type of <code>activitySubType</code> this Product offers</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td>String</td>
<td>A human-readable name for this Product.</td>
<td>Administrators on PUT/POST</td>
<td>Providing a public facing, human-readable title of the offering captured by this Product</td>
</tr>
<tr>
<td><code>description</code></td>
<td>String</td>
<td>Descriptive text explaining the operational meaning of this Product</td>
<td>Administrators on PUT/POST</td>
<td>Providing a public facing, human-readable description of the offering captured by this Product.</td>
</tr>
<tr>
<td><code>timezone</code></td>
<td>String</td>
<td>IANA timezone identifier for the location where this Product is offered</td>
<td>Administrators on PUT/POST</td>
<td>Determining the timezone context for date and time calculations related to this Product</td>
</tr>
<tr>
<td><code>rangeStart</code></td>
<td>Date</td>
<td>First date in the range of date this Product enables</td>
<td>Administrators on PUT/POST</td>
<td>Determining the date before which no child <code>productDates</code> will be generated on ProductDate seed</td>
</tr>
<tr>
<td><code>rangeEnd</code></td>
<td>Date</td>
<td>Last date in the range of date this Product enables</td>
<td>Administrators on PUT/POST</td>
<td>Determining the date after which no child <code>productDates</code> will be generated on ProductDate seed</td>
</tr>
<tr>
<td><code>assetList</code></td>
<td>[<a href="#assetref">AssetRef</a>]</td>
<td>A list of assets associated with the product</td>
<td>Administrators on PUT/POST</td>
<td>Determining which assets are allocated through this offering</td>
</tr>
<tr>
<td><code>availabilityEstimationPattern</code></td>
<td><a href="../policies/reservation-policies/#availabilityestimationpattern">AvailabilityEstimationPattern</a></td>
<td>Pattern governing how availability is estimated for ProductDates related to this Product</td>
<td>Administrators on PUT/POST</td>
<td>Determining how availability is estimated for ProductDates related to this Product</td>
</tr>
<tr>
<td><code>itineraryRules?</code></td>
<td><a href="#itineraryrules">ItineraryRules</a></td>
<td>Rules governing how itineraries are validated for bookings of this Product</td>
<td>Administrators on PUT/POST</td>
<td>Determining how itineraries are validated for bookings of this Product</td>
</tr>
<tr>
<td><code>waitRoomConfig</code></td>
<td><a href="#waitroomconfig">WaitRoomConfig</a></td>
<td>Configuration for wait room behavior for this Product (future consideration)</td>
<td>Administrators on PUT/POST</td>
<td>Determining how to handle excess demand for bookings of this Product</td>
</tr>
<tr>
<td><code>allDatesReservedIntervals?</code></td>
<td>[<a href="#dateinterval">DateInterval</a>]</td>
<td>An array of date intervals representing periods of time where a Booking must contain all DateInterval dates if one date touches the DateInterval</td>
<td>Administrators on PUT/POST</td>
<td>Determining if a booking of this Product must contain all dates within any of the defined date intervals if one of the dates in the booking touches any of the dates in the date interval</td>
</tr>
<tr>
<td><code>reservationPolicy</code></td>
<td><a href="#productreservationpolicyref">ProductReservationPolicyRef</a></td>
<td>Reference to the reservation policy that governs reservations of this Product</td>
<td>Administrators on PUT/POST</td>
<td>Determining which reservation policy applies to reservations of this Product</td>
</tr>
<tr>
<td><code>partyPolicy</code></td>
<td><a href="#productpartypolicyref">ProductPartyPolicyRef</a></td>
<td>Reference to the booking policy that governs bookings of this Product</td>
<td>Administrators on PUT/POST</td>
<td>Determining which booking policy applies to bookings of this Product</td>
</tr>
<tr>
<td><code>feePolicy</code></td>
<td><a href="#productfeepolicyref">ProductFeePolicyRef</a></td>
<td>Reference to the fee policy that governs fees associated with this Product</td>
<td>Administrators on PUT/POST</td>
<td>Determining which fee policy applies to bookings of this Product</td>
</tr>
<tr>
<td><code>changePolicy</code></td>
<td><a href="#productchangepolicyref">ProductChangePolicyRef</a></td>
<td>Reference to the change policy that governs changes/refunds for this Product</td>
<td>Administrators on PUT/POST</td>
<td>Determining which change policy applies to changes/refunds for this Product</td>
</tr>
<tr>
<td><code>creationDate</code></td>
<td>String</td>
<td>ISO 8601 timestamp of when this item was created</td>
<td>Administrators on POST</td>
<td>Determining when this item was created</td>
</tr>
<tr>
<td><code>lastUpdated</code></td>
<td>String</td>
<td>ISO 8601 timestamp of when this item was last updated</td>
<td>Administrators on PUT/POST</td>
<td>Determining when this item was last updated</td>
</tr>
<tr>
<td><code>version</code></td>
<td>Number</td>
<td>Version number for optimistic locking</td>
<td>Automatically incremented on PUT/POST</td>
<td>Ensuring that updates to this item do not overwrite more recent changes made by other processes</td>
</tr>
</tbody>
</table>
<h2 id="assetref">AssetRef<a class="headerlink" href="#assetref" title="Permanent link">&para;</a></h2>
<p>An AssetRef defines a reference to an asset and the quantity of that asset allocated to a Product. A Products <code>assetList</code> is an array of AssetRefs.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>primaryKey</code></td>
<td>PrimaryKey</td>
<td>The primary key of the referenced Asset</td>
<td>Administrators on PUT/POST</td>
<td>Identifying which Asset is being referenced</td>
</tr>
<tr>
<td><code>assetType?</code></td>
<td>String</td>
<td>The type of the referenced Asset (e.g., "campsite", "boat slip")</td>
<td>Referenced Asset</td>
<td>Determining the type of the referenced Asset</td>
</tr>
<tr>
<td><code>allocationType</code></td>
<td>String</td>
<td>The type of allocation for this Asset within the Product (e.g., "fixed", "flex")</td>
<td>Referenced Asset</td>
<td>Determining how the referenced Asset is allocated to this Product</td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>Number</td>
<td>The quantity of the referenced Asset allocated to this Product</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining how many units of the referenced Asset are allocated to this Product (will be 1 in "fixed" cases, and a base-level capacity in "flex" cases)</td>
</tr>
</tbody>
</table>
<h2 id="itineraryrules">ItineraryRules<a class="headerlink" href="#itineraryrules" title="Permanent link">&para;</a></h2>
<p>ItineraryRules define the rules governing how itineraries are collected for the Product. Some offerings may require entry and exit points, expected locations for overnight stays, or both. This is particularly relevant for activities such as multi-day hiking or boating trips - but the information collected is primarily used for informational purposes and visitor safety (SAR) and does not impact availability or inventory management.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entryExit</code></td>
<td><a href="#accesspointrules">AccessPointRules</a></td>
<td>Rules governing entry and exit points for itineraries</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining how entry and exit points are managed for Bookings of this Product</td>
</tr>
<tr>
<td><code>stayPoints</code></td>
<td><a href="#overnightstayrules">OvernightStayRules</a></td>
<td>Rules governing overnight stays for itineraries</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining how overnight stays are managed for Bookings of this Product</td>
</tr>
</tbody>
</table>
<h3 id="accesspointrules">AccessPointRules<a class="headerlink" href="#accesspointrules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>required</code></td>
<td>Boolean</td>
<td>Whether entry and exit points are required for itineraries</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining if entry and exit points must be specified for Bookings of this Product</td>
</tr>
<tr>
<td><code>allowedEntryPoints?</code></td>
<td>[PrimaryKey]</td>
<td>List of allowed Facility primary keys to be used as entry points</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining which Facilities are allowed as entry points for Bookings</td>
</tr>
<tr>
<td><code>allowedExitPoints?</code></td>
<td>[PrimaryKey]</td>
<td>List of allowed Facility primary keys to be used as exit points</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining which Facilities are allowed as exit points for Bookings</td>
</tr>
</tbody>
</table>
<h3 id="overnightstayrules">OvernightStayRules<a class="headerlink" href="#overnightstayrules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>required</code></td>
<td>Boolean</td>
<td>Whether overnight stays are required for itineraries</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining if overnight stays must be specified for Bookings of this Product</td>
</tr>
<tr>
<td><code>allowedStayPoints?</code></td>
<td>[PrimaryKey]</td>
<td>List of allowed Facility primary keys to be used as overnight stay points</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining which Facilities are forwarded to each ProductDate on seeding to populate the overnight stay points</td>
</tr>
</tbody>
</table>
<h2 id="waitroomconfig">WaitRoomConfig<a class="headerlink" href="#waitroomconfig" title="Permanent link">&para;</a></h2>
<p>Future consideration.</p>
<h2 id="dateinterval">DateInterval<a class="headerlink" href="#dateinterval" title="Permanent link">&para;</a></h2>
<p>A DateInterval defines a group of dates. If a booking touches any of the dates in the DateInterval, the booking must include all of the dates in the DateInterval. This is used to enforce rules such as "if a visitor books May 1st, they must also book May 2nd and May 3rd" for a Product that has an allDatesBookedInterval that includes May 1st, May 2nd, and May 3rd.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>String</td>
<td>Unique identifier for the date interval</td>
<td>Administrators on Product PUT/POST</td>
<td>Distinguishing this date interval from others in the same Product</td>
</tr>
<tr>
<td><code>label</code></td>
<td>String</td>
<td>The label for this date interval (e.g., "May Long Weekend")</td>
<td>Administrators on Product PUT/POST</td>
<td>Providing a human-readable label for this date interval</td>
</tr>
<tr>
<td><code>startDate</code></td>
<td>Date</td>
<td>The first date in the date interval</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining the start date of the date interval</td>
</tr>
<tr>
<td><code>endDate</code></td>
<td>Date</td>
<td>The last date in the date interval</td>
<td>Administrators on Product PUT/POST</td>
<td>Determining the end date of the date interval</td>
</tr>
</tbody>
</table>
<h2 id="productreservationpolicyref">ProductReservationPolicyRef<a class="headerlink" href="#productreservationpolicyref" title="Permanent link">&para;</a></h2>
<p>A ProductReservationPolicyRef defines a reference to a reservation policy that governs how reservations are made for a Product. A reservation policy will include rules that apply at the Product level, and rules that will be inherited by each ProductDate created for the Product. A ProductReservationPolicyRef will fully resolve rules that apply at the Product level, and will include a reference to the ReservationPolicy for for rules that will be applied at the ProductDate level when seeding.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>primaryKey</code></td>
<td>PrimaryKey</td>
<td>The primary key of the referenced Reservation Policy</td>
<td>Administrators on PUT/POST</td>
<td>Identifying which Reservation Policy is being referenced for this Product</td>
</tr>
<tr>
<td><code>isDiscoverable</code></td>
<td>Boolean</td>
<td>Whether this Product is discoverable for reservation searches. If true, the <code>discoveryWindow</code> is used to determine discoverability. If false, the Product cannot be discovered.</td>
<td>Referenced Reservation Policy</td>
<td>Determining if this Product appears in reservation search results</td>
</tr>
<tr>
<td><code>isReservable</code></td>
<td>Boolean</td>
<td>Whether this Product can be reserved. If true, ProductDates can be queried for this Product. If false, the Product cannot be reserved.</td>
<td>Referenced Reservation Policy</td>
<td>Determining if this Product can be reserved</td>
</tr>
<tr>
<td><code>minTotalDays</code></td>
<td>Number</td>
<td>Minimum total days for reservations of this Product</td>
<td>Referenced Reservation Policy</td>
<td>Enforcing minimum total days for reservations of this Product</td>
</tr>
<tr>
<td><code>maxTotalDays</code></td>
<td>Number</td>
<td>Maximum total days for reservations of this Product</td>
<td>Referenced Reservation Policy</td>
<td>Enforcing maximum total days for reservations of this Product</td>
</tr>
<tr>
<td><code>holdDuration</code></td>
<td>Duration</td>
<td>The length of time that a reservation of this Product can be held in a cart before it expires</td>
<td>Referenced Reservation Policy</td>
<td>Enforcing cart duration for reservations of this Product</td>
</tr>
<tr>
<td><code>temporalWindows</code></td>
<td><a href="#productreservationtemporalwindows">ProductReservationTemporalWindows</a></td>
<td>Temporal windows governing reservation availability for this Product</td>
<td>Referenced Reservation Policy</td>
<td>Enforcing temporal windows for reservations of this Product</td>
</tr>
</tbody>
</table>
<h3 id="productreservationtemporalwindows">ProductReservationTemporalWindows<a class="headerlink" href="#productreservationtemporalwindows" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>discoveryWindow</code></td>
<td><a href="#resolvedtemporalwindow">ResolvedTemporalWindow</a></td>
<td>The discovery window for this Product.</td>
<td>Referenced Reservation Policy</td>
<td>Enforcing the discovery window for this Product</td>
</tr>
</tbody>
</table>
<h3 id="resolvedtemporalwindow">ResolvedTemporalWindow<a class="headerlink" href="#resolvedtemporalwindow" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>open</code></td>
<td>Timestamp</td>
<td>The opening timestamp of the temporal window</td>
<td>Referenced Temporal Window</td>
<td>Enforcing the opening timestamp of the temporal window</td>
</tr>
<tr>
<td><code>close</code></td>
<td>Timestamp</td>
<td>The closing timestamp of the temporal window</td>
<td>Referenced Temporal Window</td>
<td>Enforcing the closing timestamp of the temporal window</td>
</tr>
</tbody>
</table>
<h2 id="productpartypolicyref">ProductPartyPolicyRef<a class="headerlink" href="#productpartypolicyref" title="Permanent link">&para;</a></h2>
<p>A ProductPartyPolicyRef defines a reference to a party policy that governs how Inventory can be consumed once reserved. A party policy will include rules that apply at the Product level, and rules that will be inherited by each ProductDate created for the Product. A ProductPartyPolicyRef will fully resolve rules that apply at the Product level, and will include a reference to the PartyPolicy for rules that will be applied at the ProductDate level when seeding.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>primaryKey</code></td>
<td>PrimaryKey</td>
<td>The primary key of the referenced Party Policy</td>
<td>Administrators on PUT/POST</td>
<td>Identifying which Party Policy is being referenced for this Product</td>
</tr>
</tbody>
</table>
<h2 id="productfeepolicyref">ProductFeePolicyRef<a class="headerlink" href="#productfeepolicyref" title="Permanent link">&para;</a></h2>
<p>A ProductFeePolicyRef defines a reference to a fee policy that governs how fees are applied to bookings of a Product. A fee policy will include rules that apply at the Product level, and rules that will be inherited by each ProductDate created for the Product. A ProductFeePolicyRef will fully resolve rules that apply at the Product level, and will include a reference to the FeePolicy for for rules that will be applied at the ProductDate level when seeding.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>primaryKey</code></td>
<td>PrimaryKey</td>
<td>The primary key of the referenced Fee Policy</td>
<td>Administrators on Product PUT/POST</td>
<td>Identifying which Fee Policy is being referenced for this Product</td>
</tr>
<tr>
<td><code>feeSchedule?</code></td>
<td>[<a href="#feedefinition">feeDefinition</a>]</td>
<td>The fee schedule associated with this Product</td>
<td>Referenced Fee Policy</td>
<td>Determining which fee components are used in the Product-level line items of this Product</td>
</tr>
<tr>
<td><code>lineItems?</code></td>
<td>[<a href="#lineitem">LineItem</a>]</td>
<td>The line items associated with this Product</td>
<td>Referenced Fee Policy</td>
<td>Determining how this Product is charged for at a Product level</td>
</tr>
</tbody>
</table>
<h2 id="productchangepolicyref">ProductChangePolicyRef<a class="headerlink" href="#productchangepolicyref" title="Permanent link">&para;</a></h2>
<p>A ProductChangePolicyRef defines a reference to a change policy that governs how changes/refunds are handled for a Product. A change policy will include rules that apply at the Product level, and rules that will be inherited by each ProductDate created for the Product. A ProductChangePolicyRef will fully resolve rules that apply at the Product level, and will include a reference to the ChangePolicy for rules that will be applied at the ProductDate level when seeding.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>primaryKey</code></td>
<td>PrimaryKey</td>
<td>The primary key of the referenced Change Policy</td>
<td>Administrators on Product PUT/POST</td>
<td>Identifying which Change Policy is being referenced for this Product</td>
</tr>
<tr>
<td><code>rules</code></td>
<td>[<a href="#changepolicyrule">ChangePolicyRule</a>]</td>
<td>The change/refund rules that apply to this Product</td>
<td>Referenced Change Policy</td>
<td>Determining how changes and refunds are handled for this Product</td>
</tr>
</tbody>
</table>
<h3 id="changepolicyrule">ChangePolicyRule<a class="headerlink" href="#changepolicyrule" title="Permanent link">&para;</a></h3>
<p>Returns will only be processed if the change request falls within the temporal window defined in the rule, and if any conditions defined in the <code>if</code> property are met. None of rules can have temporal windows that overlap. If a change request does not meet the conditions of any of the rules, it will be rejected.</p>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>derived from</th>
<th>evaluated when</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>String</td>
<td>Unique identifier for the change policy rule</td>
<td>Administrators on ChangePolicy PUT/POST</td>
<td>Distinguishing this change policy rule from others in the same change policy</td>
</tr>
<tr>
<td><code>label</code></td>
<td>String</td>
<td>Human-readable label for the change policy rule</td>
<td>Administrators on ChangePolicy PUT/POST</td>
<td>Providing a public facing, human-readable title of this change policy rule</td>
</tr>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>The type of refund applied in this rule (e.g. "flat", "percentage")</td>
<td>Administrators on ChangePolicy PUT/POST</td>
<td>Determining how refunds are calculated when this rule is applied</td>
</tr>
<tr>
<td><code>amount</code></td>
<td>Number</td>
<td>The base amount used in calculating refunds for this rule</td>
<td>Administrators on ChangePolicy PUT/POST</td>
<td>Determining the base amount used in calculating refunds when this rule is applied</td>
</tr>
<tr>
<td><code>if</code></td>
<td>[ComparisonPrimitive]</td>
<td>Optional conditions that must be met for this change policy rule to be applied</td>
<td>Administrators on ChangePolicy PUT/POST</td>
<td>Determining if this change policy rule should be applied based on booking context</td>
</tr>
<tr>
<td><code>temporalWindow</code></td>
<td><a href="#resolvedtemporalwindow">ResolvedTemporalWindow</a></td>
<td>A temporal window that determines when this change policy rule is applied based on the timing of the change request</td>
<td>Administrators on ChangePolicy PUT/POST</td>
<td>Determining if this change policy rule should be applied based on the timing of the change request</td>
</tr>
</tbody>
</table>
<h2 id="example-product">Example Product<a class="headerlink" href="#example-product" title="Permanent link">&para;</a></h2>
<p>Below is an example of a ficticious Product item that might be stored in the database. This example represents a backcountry camping offering for a specific park (Mock Park 1) for the 2026 season. It encodes the following details:</p>
<ul>
<li>The Product is associated with the "backcountryCamp" activity type and has a unique productId of 1 within that activity context.</li>
<li>The Product will generate ProductDates (and therefore be support offerings) from May 1st to October 31st, 2026, and is in the "America/Vancouver" IANA timezone.</li>
<li>The Product allocates 3 specific campsites (campsite 1, 2, and 3 in campground 1 of Mock Park 1) as fixed assets for this offering.</li>
<li>The Product uses an availability estimation pattern that provides exact availability estimates every 5 minutes.</li>
<li>The itinerary rules require entry and exit points, allowing accessPoint 1 and 2 of Mock Park 1 as valid options, and require overnight stays with allowed stay points at campground 1 and 2 of Mock Park 1.</li>
<li>The Product references a reservation policy that makes it discoverable and reservable, with a minimum total days of 1 and a maximum total days of 14, and a discovery window from January 1st to December 31st, 2026.</li>
<li>The Product references a booking policy that will be inherited by seeded ProductDates.</li>
<li>The Product references a fee policy that includes a fee schedule with a flat transaction fee of $6.5 and a tax of 5%, and a line item that applies the transaction fee and associated tax to the Product at a Product level.</li>
<li>The Product references a change policy that will be inherited by seeded ProductDates.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;product::mockPark1::backcountryCamp::1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;product&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;globalId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;73a8b2c1-4d5e-6f7a-8b9c-0d1e2f3a4b5c&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;collectionId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mockPark1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;productId&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;identifier&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;activityType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;backcountryCamp&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;activityId&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;activitySubType&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;displayName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mock Backcountry Camping Offering for Mock Park 1 - 2026 Season&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mock backcountry camping reservation for Mock Park 1 for the 2026 season.&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;rangeStart&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-05-01&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;rangeEnd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-10-31&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;timezone&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;America/Vancouver&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;assetList&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;asset::mockPark1::campground::1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;campsite::1&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;allocationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fixed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;quantity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;asset::mockPark1::campground::1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;campsite::2&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;allocationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fixed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;quantity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;asset::mockPark1::campground::1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;campsite::3&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;allocationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fixed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;quantity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;availabilityEstimationPattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;estimationMode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;exact&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cadence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;minutes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;itineraryRules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;entryExit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;allowedEntryPoints&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;facility::mockPark1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;accessPoint::1&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;facility::mockPark1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;accessPoint::2&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;allowedExitPoints&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;facility::mockPark1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;accessPoint::1&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;facility::mockPark1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;accessPoint::2&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;stayPoints&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;allowedStayPoints&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;facility::mockPark1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;campground::1&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;facility::mockPark1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;campground::2&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;waitRoomConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;allDatesReservedIntervals&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mayLong2026&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;displayName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;May Long Weekend 2026&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;startDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-05-15&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;endDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-05-18&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;reservationPolicy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policy::reservation::101&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;isDiscoverable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;isReservable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;minTotalDays&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;maxTotalDays&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;temporalWindows&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;discoveryWindow&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;open&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-01T07:00:00-08:00&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;close&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-12-31T23:59:59-08:00&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;reservationContext&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;discoveryWindow&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;open&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-01T07:00:00-08:00&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;close&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-12-31T23:59:59-08:00&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;partyPolicy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policy::party::101&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;partyCategories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;adults&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Adults (18+)&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;minCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;children&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Children &lt;18&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;minCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tents&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tents&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;minCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;partyCompositionRules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;maxTotalPartySize&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Maximum Total Party Size&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;failMsg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Total party size cannot exceed 4 people.&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;if&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;then&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;lhs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ref&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;partyContext.adults&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;op&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;add&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ref&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;partyContext.children&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">          </span><span class="nt">&quot;op&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lte&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;rhs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;constant&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;feePolicy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policy::fee::301&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;feeSchedule&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;transactionFee&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Transaction Fee&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;flat&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">6.5</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tax&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tax&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;percentage&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;lineItems&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;transactionFeeLine&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Transaction Fee&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;flat&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;isReturnable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;if&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;quantity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;constant&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ref&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;feeSchedule.transactionFee.amount&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;taxApplied&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ref&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;feeSchedule.tax.amount&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;discountsApplied&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;changePolicy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;pk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policy::refund::401&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T12:00:00Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lastUpdated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T12:00:00Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../activities/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Activities">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Activities
              </div>
            </div>
          </a>
        
        
          
          <a href="../product-dates/" class="md-footer__link md-footer__link--next" aria-label="Next: ProductDates">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                ProductDates
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.sections", "navigation.indexes", "navigation.expand", "toc.integrate", "navigation.top", "content.code.copy", "content.code.annotate", "navigation.tracking", "navigation.instant", "navigation.footer", "navigation.tabs", "navigation.tabs.sticky", "toc.follow", "content.tabs.link", "content.tooltips", "content.code.select", "content.code.highlight", "content.code.line_numbers", "content.code.wrap"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>